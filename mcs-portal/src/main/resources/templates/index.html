<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <link rel="stylesheet" type="text/css" th:href="@{jquery-easyui/themes/default/easyui.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{jquery-easyui/themes/icon.css}"/>
    <script th:src="@{jquery-easyui/jquery.min.js}"></script>
    <script th:src="@{jquery-easyui/jquery.easyui.min.js}"></script>
    <title>Title</title>
</head>
<body class="easyui-layout">
<!--头部-->
<div data-options="region:'north',border:false" style="height: 745x; background: #2596ea; padding: 10px">
    <img src="images/logo.png"/>EasyUIDemo
</div>
<!--底部-->
<div data-options="region:'south',border:false" style="height: 25px;">
    <div class="footer">EasyUIDemo</div>
</div>
<!--菜单区域-->
<div data-options="region:'west',split:true" title="导航菜单" style="width: 220px;">
    <!-- 树形结构的功能列表 -->
    <ul id="tree" class="easyui-tree"></ul>
</div>
<!--内容区域-->
<div data-options="region:'center',title:'Main Title',iconCls:'icon-ok'">
    <div class="easyui-tabs" style="width:100%;height:100%;" id="tabs">
        <div title="首页">欢迎来到Hbase价格库存查询页面</div>
    </div>
</div>
</body>
<script type="text/javascript">
    $(function () {
        var treeData = {};
        //同步获取
        $.ajax({
            type: 'GET',
            url: '/getMenu',
            async: false,
            dataType: 'json',
            success: function (json) {
                treeData = json;
            },
        });

        //实例化树形菜单
        $("#tree").tree({
            data : treeData,
            lines : true,
            onClick : function (node) {
                if (node.attributes) {
                    open(node.text, node.attributes.url);
                }
            }
        });

        function open(title, url){
            if ($('#tabs').tabs('exists', title)){
                $('#tabs').tabs('select', title);
            } else {
                var content = '<iframe scrolling="auto" frameborder="0"  src="' + url + '" style="width:100%;height:100%;"></iframe>';
                $('#tabs').tabs('add',{
                    title:title,
                    content:content,
                    closable:true
                });
            }
        }
	});

</script>
</html>